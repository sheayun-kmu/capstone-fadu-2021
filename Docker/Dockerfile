FROM ubuntu:18.04

RUN apt-get update -y
RUN apt-get upgrade -y

########## cmocka ##########
RUN apt-get install -y libcmocka-dev

# Install all dependencies
RUN apt-get install -y gnupg gnupg2
RUN apt-get install -y gcc g++ cmake libgmp-dev libboost-dev
RUN apt-get install -y libboost-filesystem-dev libboost-thread-dev libboost-test-dev python
RUN apt-get install -y python-pygments libsqlite3-dev libtbb-dev libz-dev libedit-dev
RUN apt-get install -y llvm-9 llvm-9-dev llvm-9-tools clang-9 wget
RUN apt-get install -y gcovr nano iptables net-tools
RUN apt-get install -y git curl fontconfig unzip vim sudo clang-format-10

########## ikos ##########
# TODO: ikos 환경 설치하기


########## Jenkins Dockerfile ##########

RUN apt-get install sudo -y
RUN sudo apt-get install openjdk-8-jdk -y
RUN sudo apt-get install maven -y


RUN apt-get install -y wget gnupg gnupg2
RUN wget -O - https://pkg.jenkins.io/debian/jenkins.io.key | sudo apt-key add -
RUN sudo sh -c 'echo deb https://pkg.jenkins.io/debian-stable binary/ > /etc/apt/sources.list.d/jenkins.list'
RUN sudo apt-get -y update
RUN sudo apt-get install -y jenkins

ENV JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
EXPOSE 8080 8081

WORKDIR /home/work
